#!/usr/bin/python

import argparse


def parse_arguments():
    parser = argparse.ArgumentParser()
    subparsers = parser.add_subparsers(help='single or multiple mode',
                                       dest='mode')

    # subparser for single mode
    single_parser = subparsers.add_parser(
        'single', help='merge the ingress log and egress log of a single '
        'tunnel into a "tunnel log"')
    single_parser.add_argument(
        '-i', action='store', metavar='INGRESS-LOG', dest='ingress_log',
        required=True, help='ingress log')
    single_parser.add_argument(
        '-e', action='store', metavar='EGRESS-LOG', dest='egress_log',
        required=True, help='egress log')

    # subparser for multiple mode
    multiple_parser = subparsers.add_parser(
        'multiple', help='merge the tunnel logs of one or more tunnels')
    multiple_parser.add_argument(
        '--link-log', action='store', metavar='LINK-LOG', dest='link_log',
        help='uplink or downlink log generated by mm-link')
    multiple_parser.add_argument(
        'tunnel_logs', metavar='TUNNEL-LOG', nargs='+',
        help='one or more tunnel logs generated by single mode')

    return parser.parse_args()


def main():
    args = parse_arguments()


if __name__ == '__main__':
    main()
